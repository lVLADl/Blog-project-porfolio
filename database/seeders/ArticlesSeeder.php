<?php

namespace Database\Seeders;

use App\Models\Article;
use App\Models\Category;
use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use Illuminate\Support\Str;

class ArticlesSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        $posts = [
            [
                'title' => '10 лучших мест Европы для путешествий весной',
                'slug' => '10-luchshih-mest-evropy-dlja-puteshestvij-vesnoj',
                'description' => 'Весна в Европе — это время цветения, теплых дней и невероятных впечатлений. Мы собрали для вас десятку лучших направлений для весеннего путешествия.',
                'body' => '<p>Весна — идеальное время для путешествий по Европе. Природа просыпается, туристов еще немного, а цены радуют.</p><p><strong>1. Амстердам, Нидерланды</strong> — город тюльпанов и каналов. Посетите знаменитый парк Кёкенхоф с миллионами цветов.</p><p><strong>2. Париж, Франция</strong> — весной французская столица особенно романтична. Прогулки по Сене, пикники в Люксембургском саду.</p><p><strong>3. Прага, Чехия</strong> — готическая архитектура на фоне цветущих садов. Идеальная погода для пеших прогулок.</p><p><strong>4. Барселона, Испания</strong> — теплое море, Гауди и тапас-бары. Весной здесь комфортная температура без летнего зноя.</p><p><strong>5. Санторини, Греция</strong> — белоснежные домики и синее море. В апреле-мае здесь мало туристов и божественные закаты.</p><p>Другие направления включают Лиссабон, Дубровник, озера Швейцарии, Будапешт и норвежские фьорды. Бронируйте билеты заранее и наслаждайтесь европейской весной!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=1',
                'hero_title' => '10 лучших мест Европы для путешествий весной',
                'published' => true,
                'categories' => ['Европа', 'Советы', 'Путешествия']
            ],
            [
                'title' => 'Путешествие по Исландии: ледники и вулканы',
                'slug' => 'puteshestvie-po-islandii-ledniki-i-vulkany',
                'description' => 'Исландия — страна контрастов, где огонь встречается со льдом. Откройте для себя уникальную природу северного острова.',
                'body' => '<p>Исландия — это место, где природа показывает всю свою мощь и красоту. Ледники соседствуют с вулканами, гейзеры бьют из-под земли, а северное сияние танцует в ночном небе.</p><p><strong>Золотое кольцо</strong> — обязательный маршрут для первого визита. Включает водопад Гюдльфосс, гейзер Строккур и национальный парк Тингвеллир.</p><p><strong>Ледниковая лагуна Йёкюльсарлон</strong> — айсберги в синей воде, тюлени и незабываемые фотографии. Можно взять лодочную экскурсию среди льдин.</p><p><strong>Вулкан Фаградальсфьядль</strong> — недавнее извержение создало новый туристический аттракцион. Походы к лавовым полям впечатляют.</p><p><strong>Рейкьявик</strong> — столица с яркими домиками, музеями викингов и отличными ресторанами. Не пропустите церковь Хатльгримскиркья.</p><p>Лучшее время для посещения — лето (июнь-август) для походов или зима (сентябрь-март) для северного сияния. Арендуйте автомобиль и исследуйте остров свободы!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=2',
                'hero_title' => 'Путешествие по Исландии: ледники и вулканы',
                'published' => true,
                'categories' => ['Исландия', 'Природа']
            ],
            [
                'title' => 'Как собрать рюкзак для похода в горы',
                'slug' => 'kak-sobrat-rjukzak-dlja-pohoda-v-gory',
                'description' => 'Правильная упаковка рюкзака — залог комфортного похода. Узнайте, что взять с собой и как распределить вес.',
                'body' => '<p>Сборы в горный поход требуют внимательности и опыта. Каждый лишний килограмм будет чувствоваться на спине, поэтому важно взять только необходимое.</p><p><strong>Основа: рюкзак и обувь</strong><br>Выбирайте рюкзак объемом 50-70 литров для многодневных походов. Обувь должна быть разношенной, с хорошей поддержкой голеностопа.</p><p><strong>Одежда по слоям</strong><br>1. Базовый слой (термобелье)<br>2. Утепляющий слой (флис, пуховка)<br>3. Защитный слой (мембранная куртка и штаны)</p><p><strong>Снаряжение</strong><br>Спальник (по температуре сезона), коврик туристический, палатка, горелка, газ, посуда, фонарик, нож.</p><p><strong>Аптечка</strong><br>Пластыри от мозолей, бинт, обезболивающее, антисептик, средства от аллергии, личные лекарства.</p><p><strong>Навигация и связь</strong><br>Карты, компас, GPS-навигатор или смартфон с офлайн-картами, павербанк.</p><p><strong>Питание</strong><br>Высококалорийная еда: каши, сухофрукты, орехи, энергетические батончики. Не забудьте соль и специи.</p><p>Упаковывайте тяжелые вещи ближе к спине в средней части рюкзака. Легкие — вниз и вверх. Доброго пути!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=3',
                'hero_title' => 'Как собрать рюкзак для похода в горы',
                'published' => true,
                'categories' => ['Советы', 'Экипировка', 'Походы']
            ],
            [
                'title' => 'Секреты бюджетных путешествий по Азии',
                'slug' => 'sekrety-bjudzhetnyh-puteshestvij-po-azii',
                'description' => 'Азия — рай для бюджетных путешественников. Узнайте, как экономить на жилье, еде и транспорте без потери комфорта.',
                'body' => '<p>Азия привлекает путешественников не только экзотикой, но и доступными ценами. При правильном подходе можно месяцами путешествовать, тратя $20-30 в день.</p><p><strong>Жилье</strong><br>Хостелы стоят $5-10 за ночь. В Таиланде, Вьетнаме, Индонезии есть гестхаусы за $10-15 с отдельной комнатой. Бронируйте через Booking.com или Agoda за 1-2 дня — будут скидки.</p><p><strong>Питание</strong><br>Уличная еда — это вкусно, дешево и аутентично. Пад-тай в Таиланде — $1-2, фо во Вьетнаме — $1.5, наси-горенг в Индонезии — $1. Ешьте там, где едят местные.</p><p><strong>Транспорт</strong><br>Локальные автобусы вместо туристических. Ночные автобусы и поезда экономят на жилье. Арендуйте скутеры ($5-7/день) для свободы передвижения.</p><p><strong>Развлечения</strong><br>Многие храмы бесплатны или стоят символически. Пляжи бесплатные. Походы в джунгли можно организовать самостоятельно.</p><p><strong>Лучшие страны для бюджетников</strong><br>Вьетнам, Камбоджа, Лаос, Индия, Непал, Индонезия (кроме Бали), Филиппины.</p><p>Торгуйтесь, избегайте туристических зон, учите базовые фразы на местном языке — и Азия станет вашим вторым домом!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=4',
                'hero_title' => 'Секреты бюджетных путешествий по Азии',
                'published' => true,
                'categories' => ['Азия', 'Бюджет']
            ],
            [
                'title' => 'Лучшие пляжи мира для отдыха',
                'slug' => 'luchshie-pljazhi-mira-dlja-otdyha',
                'description' => 'От белоснежного песка Мальдив до черных вулканических пляжей Бали — подборка райских мест для пляжного отдыха.',
                'body' => '<p>Пляжный отдых — это не только загар и коктейли. Это возможность окунуться в кристально чистую воду, заняться снорклингом или просто насладиться закатом.</p><p><strong>1. Мальдивы</strong><br>Белоснежный песок, бирюзовая вода, бунгало на воде. Идеально для медового месяца и дайвинга. Лучшие месяцы: ноябрь-апрель.</p><p><strong>2. Бора-Бора, Французская Полинезия</strong><br>Лагуна с коралловыми рифами, роскошные резорты, романтика. Дорого, но незабываемо.</p><p><strong>3. Майя Бэй, Таиланд</strong><br>Известен по фильму "Пляж". Окружен скалами, невероятные виды. Сейчас закрыт для восстановления экосистемы, но другие пляжи островов Пхи-Пхи не хуже.</p><p><strong>4. Уайтхэвен Бич, Австралия</strong><br>98% чистого кварцевого песка, острова Уитсанди. Песок не нагревается на солнце — можно ходить босиком.</p><p><strong>5. Нуса-Дуа, Бали</strong><br>Комфортные резорты, чистые пляжи, спокойная вода. Отлично для семейного отдыха.</p><p><strong>6. Анс Сурс д\'Аржан, Сейшелы</strong><br>Розовый песок, гигантские гранитные валуны, пальмы. Самый фотографируемый пляж мира.</p><p>Выбирайте по душе и наслаждайтесь райским отдыхом!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=5',
                'hero_title' => 'Лучшие пляжи мира для отдыха',
                'published' => true,
                'categories' => ['Пляжи', 'Отдых']
            ],
            [
                'title' => 'Путешествие по Украине: неизведанные уголки',
                'slug' => 'puteshestvie-po-ukraine-neizvedannye-ugolki',
                'description' => 'Украина полна удивительных мест, которые незаслуженно обходят вниманием. Откройте для себя красоту родной страны.',
                'body' => '<p>Украина — страна с богатой историей, разнообразной природой и гостеприимными людьми. Здесь каждый найдет что-то для себя.</p><p><strong>Карпаты</strong><br>Горы, полонины, водопады. Походы на Говерлу, озеро Синевир, Буковель зимой. Гуцульская культура и колорит.</p><p><strong>Каменец-Подольский</strong><br>Старинная крепость на скале, окруженная каньоном реки Смотрич. Средневековая архитектура и атмосфера.</p><p><strong>Асканія-Нова</strong><br>Биосферный заповедник в Херсонской области. Степные просторы, дикие животные: зубры, антилопы, дикие лошади.</p><p><strong>Тунель кохання, Рівненська область</strong><br>Зеленый тоннель из деревьев вдоль железной дороги. Романтичное место для фотосессий.</p><p><strong>Хотин</strong><br>Хотинская крепость — мощное оборонительное сооружение над Днестром. Использовалась для съемок многих фильмов.</p><p><strong>Шацкие озера</strong><br>Украинские Мальдивы — чистейшая вода, песчаные пляжи, сосновые леса. Озеро Свитязь — самое глубокое в Украине.</p><p>Исследуйте родную страну — она полна сюрпризов!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=6',
                'hero_title' => 'Путешествие по Украине: неизведанные уголки',
                'published' => true,
                'categories' => ['Украина', 'Локальные путешествия']
            ],
            [
                'title' => 'Гастрономическое путешествие по Италии',
                'slug' => 'gastronomicheskoe-puteshestvie-po-italii',
                'description' => 'Италия — это не только достопримечательности, но и кулинарный рай. Паста, пицца, вино и тирамису ждут вас.',
                'body' => '<p>Итальянская кухня — одна из самых любимых в мире. Но попробовать настоящую пасту карбонара в Риме или пиццу в Неаполе — это совершенно другой опыт.</p><p><strong>Неаполь — родина пиццы</strong><br>Пиццерия Da Michele существует с 1870 года. Только два вида: Маргарита и Маринара. Тонкое тесто, свежайшие ингредиенты.</p><p><strong>Рим — карбонара и качо-э-пепе</strong><br>Настоящая карбонара готовится без сливок! Только яйца, гуанчале, пекорино и черный перец. Попробуйте в Trattoria Da Enzo.</p><p><strong>Болонья — родина болоньезе</strong><br>Здесь соус называется рагу и подается с тальятелле, а не со спагетти. Также попробуйте тортеллини в бульоне.</p><p><strong>Тоскана — вино и стейки</strong><br>Кьянти, Брунелло ди Монтальчино — вина мирового класса. Bistecca alla Fiorentina — огромный стейк на кости.</p><p><strong>Сицилия — аранчини и канноли</strong><br>Рисовые шарики с начинкой, жареные до золотистой корочки. Канноли — хрустящие трубочки с рикоттой.</p><p><strong>Венеция — чикетти и просекко</strong><br>Местные тапас в баккаро (винных барах). Сопровождайте игристым просекко.</p><p>Не спешите, наслаждайтесь каждым блюдом — так живут итальянцы!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=7',
                'hero_title' => 'Гастрономическое путешествие по Италии',
                'published' => true,
                'categories' => ['Италия', 'Еда', 'Культура']
            ],
            [
                'title' => 'Экстремальный туризм в Новой Зеландии',
                'slug' => 'ekstremalnyj-turizm-v-novoj-zelandii',
                'description' => 'Новая Зеландия — мировая столица экстремального туризма. Банджи, скайдайвинг, рафтинг и многое другое.',
                'body' => '<p>Новая Зеландия — это страна, где адреналин в крови. Здесь изобрели коммерческий банджи-джампинг, и с тех пор экстрим стал частью культуры.</p><p><strong>Банджи-джампинг в Queenstown</strong><br>Kawarau Bridge — первая коммерческая площадка для банджи (1988 г.). Прыжок с 43 метров над рекой. Также Nevis Bungy — 134 метра!</p><p><strong>Скайдайвинг над озером Вакатипу</strong><br>Прыжки с парашютом с высоты 4500 метров. Невероятные виды на озеро и горы. Свободное падение 60 секунд.</p><p><strong>Рафтинг на реке Shotover</strong><br>Пороги 3-5 категории сложности. Каньоны, водовороты, адреналин. Подходит для новичков с инструктором.</p><p><strong>Зорбинг в Rotorua</strong><br>Катание внутри огромного прозрачного шара с горы. Можно сухим или с водой внутри.</p><p><strong>Хели-ски в Альпах</strong><br>Вертолет доставляет на нетронутые склоны. Девственный снег, крутые спуски, никаких очередей.</p><p><strong>Каньонинг и скалолазание</strong><br>Спуски по водопадам, прыжки в естественные бассейны, лазание по скалам.</p><p>Новая Зеландия — место, где можно победить свои страхи и почувствовать себя живым!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=8',
                'hero_title' => 'Экстремальный туризм в Новой Зеландии',
                'published' => true,
                'categories' => ['Новая Зеландия', 'Экстрим', 'Приключения']
            ],
            [
                'title' => 'Сафари в Кении: встреча с дикой природой',
                'slug' => 'safari-v-kenii-vstrecha-s-dikoj-prirodoj',
                'description' => 'Кения — лучшее место в Африке для наблюдения за дикими животными. Львы, слоны, жирафы в естественной среде обитания.',
                'body' => '<p>Сафари в Кении — это мечта любого любителя природы. Представьте: рассвет в саванне, стадо слонов у водопоя, прайд львов на охоте.</p><p><strong>Масаи-Мара</strong><br>Самый известный заповедник Кении. Великая миграция (июль-октябрь) — миллионы антилоп гну и зебр пересекают реку Мара. Большая пятерка: лев, леопард, слон, буйвол, носорог.</p><p><strong>Амбосели</strong><br>Парк у подножия Килиманджаро. Огромные стада слонов на фоне снежной вершины. Идеально для фотографов.</p><p><strong>Озеро Накуру</strong><br>Миллионы розовых фламинго создают розовое покрывало на воде. Также здесь можно увидеть редких белых носорогов.</p><p><strong>Тсаво</strong><br>Два парка: Тсаво Восточный и Западный. "Красные слоны" из-за пыли вулканического происхождения. Менее туристический, более дикий.</p><p><strong>Советы для сафари</strong><br>- Лучшее время: сухой сезон (июнь-октябрь, январь-февраль)<br>- Одевайтесь в нейтральные цвета (бежевый, хаки)<br>- Берите бинокль и камеру с хорошим зумом<br>- Слушайте гида — безопасность важнее кадра<br>- Ранние утренние выезды самые продуктивные</p><p>Сафари в Кении — это опыт, который изменит ваш взгляд на мир!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=9',
                'hero_title' => 'Сафари в Кении: встреча с дикой природой',
                'published' => true,
                'categories' => ['Африка', 'Природа', 'Животные']
            ],
            [
                'title' => 'Древние храмы Камбоджи',
                'slug' => 'drevnie-hramy-kambodzhi',
                'description' => 'Ангкор-Ват — жемчужина кхмерской архитектуры. Исследуйте древние храмы, поглощенные джунглями.',
                'body' => '<p>Камбоджа хранит одно из величайших архитектурных чудес мира — храмовый комплекс Ангкор. Тысячи храмов, построенных в IX-XV веках кхмерской империей.</p><p><strong>Ангкор-Ват</strong><br>Крупнейший религиозный монумент в мире. Построен в XII веке как индуистский храм Вишну, позже стал буддийским. Встречайте рассвет здесь — магия гарантирована.</p><p><strong>Байон</strong><br>Храм с 54 башнями, украшенными 216 гигантскими ликами Будды. Каменные лица смотрят во все стороны света. Невероятная атмосфера.</p><p><strong>Та Пром</strong><br>Храм, который не стали освобождать от джунглей. Гигантские деревья обвивают стены и башни. Здесь снимали "Лару Крофт".</p><p><strong>Бантеай Срей</strong><br>"Цитадель женщин" — небольшой храм из розового песчаника с искуснейшей резьбой. Считается жемчужиной кхмерского искусства.</p><p><strong>Преа Кхан</strong><br>Храмовый комплекс-лабиринт. Можно часами бродить по коридорам и дворам, открывая новые уголки.</p><p><strong>Практические советы</strong><br>- Билет на 1 день — $37, 3 дня — $62<br>- Арендуйте тук-тук с водителем ($15-20/день)<br>- Носите закрытую одежду (храмы — святое место)<br>- Начинайте рано утром, в полдень жарко<br>- Берите много воды</p><p>Храмы Ангкора — это путешествие в прошлое, духовный опыт и визуальный праздник!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=10',
                'hero_title' => 'Древние храмы Камбоджи',
                'published' => true,
                'categories' => ['Азия', 'История', 'Культура']
            ],
            [
                'title' => 'Зимний отдых в Альпах: лучшие горнолыжные курорты',
                'slug' => 'zimnij-otdyh-v-alpah-luchshie-gornolyznye-kurorty',
                'description' => 'Альпы — рай для любителей зимних видов спорта. Обзор топовых курортов Австрии, Швейцарии и Франции.',
                'body' => '<p>Альпы — это синоним качественного горнолыжного отдыха. Отлично подготовленные трассы, современные подъемники, уютные шале и après-ski.</p><p><strong>Куршевель, Франция</strong><br>Самый гламурный курорт Альп. Часть огромного региона Les 3 Vallées (600 км трасс). Трассы для всех уровней, мишленовские рестораны.</p><p><strong>Церматт, Швейцария</strong><br>У подножия Маттерхорна — самой фотографируемой горы мира. Катание круглый год на леднике. Безавтомобильная деревня с атмосферой.</p><p><strong>Ишгль, Австрия</strong><br>"Ибица Альп" — известен бурной ночной жизнью. Концерты мировых звезд на открытии сезона. 238 км трасс, связь с Самнауном (Швейцария).</p><p><strong>Шамони, Франция</strong><br>Столица альпинизма, место первой зимней Олимпиады (1924). Экстремальные спуски, фрирайд, невероятные виды на Монблан.</p><p><strong>Санкт-Антон, Австрия</strong><br>Родина современного горнолыжного спорта. Сложные трассы, глубокий снег, легендарное après-ski в Mooserwirt и Krazy Kanguruh.</p><p><strong>Вербье, Швейцария</strong><br>Любимый курорт британцев. Сложные трассы, фрирайд-зоны, стильные бары и рестораны.</p><p><strong>Советы</strong><br>- Бронируйте жилье за 3-4 месяца<br>- Ski pass можно купить онлайн со скидкой<br>- Лучший снег: январь-февраль<br>- Берите страховку для зимних видов спорта</p><p>Альпы — это не просто катание, это стиль жизни!</p>',
                'hero_image' => 'https://picsum.photos/600/400?random=11',
                'hero_title' => 'Зимний отдых в Альпах: лучшие горнолыжные курорты',
                'published' => true,
                'categories' => ['Европа', 'Зимний спорт', 'Горы']
            ],
        ];
        foreach ($posts as $postData) {
            $postData['slug'] = Str::slug($postData['title']);
            $article = Article::firstOrCreate([
                'slug' => $postData['slug'],
                'title' => $postData['title'],
                'description' => $postData['description'],
                'body' => $postData['body'],
                'hero_title' => $postData['hero_title'],
                'hero_image' => $postData['hero_image'],
                'published' => $postData['published']
            ]);

            $categoryIds = [];
            foreach ($postData['categories'] as $categoryTitle) {
                $category = Category::firstOrCreate(
                    ['title' => $categoryTitle],
                    ['slug' => Str::slug($categoryTitle)]
                );

                $categoryIds[] = $category->id;
            }

            $article->categories()->sync($categoryIds);
        }
    }
}
